<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odin Rock Paper Scissors</title>
</head>

<body>
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>
    <div>
        <p class="output"></p>
        <p class="result"></p>
        <p class="user-score">Your Score: 0</p>
        <p class="comp-score">Computer Score: 0</p>
    </div>


    <script>
        function computerPlay() {
            let choice = Math.floor(Math.random() * 3);
            if (choice == 0) {
                return "ROCK";
            } else if (choice == 1) {
                return "PAPER";
            } else {
                return "SCISSORS";
            }
        }

        function round(playerSelection, computerSelection) {
            playerSelection = playerSelection.toUpperCase();

            if (playerSelection == computerSelection) {
                return "Tie!";
            } else if (playerSelection == "ROCK" && computerSelection == "SCISSORS") {
                return "You Win! Rock beats Scissors";
            } else if (playerSelection == "PAPER" && computerSelection == "ROCK") {
                return "You Win! Paper beats Rock";
            } else if (playerSelection == "SCISSORS" && computerSelection == "PAPER") {
                return "You Win! Scissors beats Paper";
            } else {
                return "You Lose! " + computerSelection.slice(0, 1) + computerSelection.slice(1).toLowerCase() + " beats " + playerSelection.slice(0, 1) + playerSelection.slice(1).toLowerCase();
            }
        }


        let playerScore = 0;
        let computerScore = 0;

        const rockButton = document.querySelector(".rock");
        const scissorsButton = document.querySelector(".scissors")
        const paperButton = document.querySelector(".paper");
        const output = document.querySelector(".output");
        const userScore = document.querySelector(".user-score");
        const compScore = document.querySelector(".comp-score");
        const resulty = document.querySelector(".result");
        let finished = false;

        rockButton.addEventListener("click", () => {

            if (finished) {
                return;
            }


            let result = round("ROCK", computerPlay());
            output.innerText = result;

            if (result.includes("Win")) {
                playerScore++;
                userScore.innerText = "Your Score: " +
                    playerScore;
            } else if (result.includes("Lose")) {
                computerScore++;
                compScore.innerText = "Computer Score: " + computerScore;
            }

            if (playerScore >= 5 || computerScore >= 5) {
                if (playerScore > computerScore) {
                    resulty.innerText = "Congratulations! You won!";
                } else if (playerScore < computerScore) {
                    resulty.innerText = "You lost the game";
                } else {
                    resulty.innerText = "You tied this game!";
                }

                finished = true;
            }
        })

        scissorsButton.addEventListener("click", () => {
            if (finished) {
                return;
            }


            let result = round("SCISSORS", computerPlay());
            output.innerText = result;

            if (result.includes("Win")) {
                playerScore++;
                userScore.innerText = "Your Score: " +
                    playerScore;
            } else if (result.includes("Lose")) {
                computerScore++;
                compScore.innerText = "Computer Score: " + computerScore;
            }

            if (playerScore >= 5 || computerScore >= 5) {
                if (playerScore > computerScore) {
                    resulty.innerText = "Congratulations! You won!";
                } else if (playerScore < computerScore) {
                    resulty.innerText = "You lost the game";
                } else {
                    resulty.innerText = "You tied this game!";
                }

                finished = true;
            }
        })

        paperButton.addEventListener("click", () => {
            if (finished) {
                return;
            }


            let result = round("PAPER", computerPlay());
            output.innerText = result;

            if (result.includes("Win")) {
                playerScore++;
                userScore.innerText = "Your Score: " +
                    playerScore;
            } else if (result.includes("Lose")) {
                computerScore++;
                compScore.innerText = "Computer Score: " + computerScore;
            }

            if (playerScore >= 5 || computerScore >= 5) {
                if (playerScore > computerScore) {
                    resulty.innerText = "Congratulations! You won!";
                } else if (playerScore < computerScore) {
                    resulty.innerText = "You lost the game";
                } else {
                    resulty.innerText = "You tied this game!";
                }

                finished = true;
            }
        })
    </script>
</body>

</html>